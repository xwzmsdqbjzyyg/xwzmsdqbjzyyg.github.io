<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> PHP $_SERVER 转 · 一天进步一点</title><meta name="description" content="PHP $_SERVER 转 - 陈长生"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/u/1977719157" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/xwzmsdqbjzyyg/xwzmsdqbjzyyg.github.io" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">PHP $_SERVER 转</h1><div class="post-info">2016年6月24日</div><div class="post-content"><p>$_SERVER 是一个包含了诸如头信息(header)、路径(path)、以及脚本位置(script locations)等等信息的数组。这个数组中的项目由 Web 服务器创建。不能保证每个服务器都提供全部项目；服务器可能会忽略一些，或者提供一些没有在这里列举出来的项目。<br>下表列出了所有 $_SERVER 变量中的重要元素。</p>
<p>元素/代码     描述<br>$_SERVER[‘PHP_SELF’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        当前执行脚本的文件名，与 document root 有关。<br>$_SERVER[‘GATEWAY_INTERFACE’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            服务器使用的 CGI 规范的版本。<br>$_SERVER[‘SERVER_ADDR’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        当前运行脚本所在的服务器的 IP 地址。<br>$_SERVER[‘SERVER_NAME’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当前运行脚本所在的服务器的主机名。如果脚本运行于虚拟主机中，该名称是由那个虚拟主机所设置的值决定。<br>$_SERVER[‘SERVER_SOFTWARE’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    服务器标识字符串，在响应请求时的头信息中给出。<br>$_SERVER[‘SERVER_PROTOCOL’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    请求页面时通信协议的名称和版本。<br>$_SERVER[‘REQUEST_METHOD’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    访问页面使用的请求方法。<br>$_SERVER[‘REQUEST_TIME’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;请求开始时的时间戳。从 PHP 5.1.0 起可用。<br>$_SERVER[‘QUERY_STRING’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query string（查询字符串），如果有的话，通过它进行页面访问。<br>$_SERVER[‘HTTP_ACCEPT’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当前请求头中 Accept: 项的内容，如果存在的话。<br>$_SERVER[‘HTTP_ACCEPT_CHARSET’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    当前请求头中 Accept-Charset: 项的内容，如果存在的话。<br>$_SERVER[‘HTTP_HOST’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当前请求头中 Host: 项的内容，如果存在的话。<br>$_SERVER[‘HTTP_REFERER’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    引导用户代理到当前页的前一页的地址（如果存在）。由 user agent 设置决定。并不是所有的用户代理都会设置该项，有的还提供了修改 HTTP_REFERER 的功能。简言之，该值并不可信。)<br>$_SERVER[‘HTTPS’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    如果脚本是通过 HTTPS 协议被访问，则被设为一个非空的值。<br>$_SERVER[‘REMOTE_ADDR’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    浏览当前页面的用户的 IP 地址。<br>$_SERVER[‘REMOTE_HOST’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    浏览当前页面的用户的主机名。DNS 反向解析不依赖于用户的 REMOTE_ADDR。<br>$_SERVER[‘REMOTE_PORT’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    用户机器上连接到 Web 服务器所使用的端口号。<br>$_SERVER[‘SCRIPT_FILENAME’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    当前执行脚本的绝对路径。<br>$_SERVER[‘SERVER_ADMIN’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    该值指明了 Apache 服务器配置文件中的 SERVER_ADMIN 参数。如果脚本运行在一个虚拟主机上，则该值是那个虚拟主机的值。<br>$_SERVER[‘SERVER_PORT’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Web 服务器使用的端口。默认值为 “80”。如果使用 SSL 安全连接，则这个值为用户设置的 HTTP 端口。<br>$_SERVER[‘SERVER_SIGNATURE’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    包含了服务器版本和虚拟主机名的字符串。<br>$_SERVER[‘PATH_TRANSLATED’] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    当前脚本所在文件系统（非文档根目录）的基本路径。这是在服务器进行虚拟到真实路径的映像后的结果。<br>$_SERVER[‘SCRIPT_NAME’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;包含当前脚本的路径。这在页面需要指向自己时非常有用。<strong>FILE</strong> 常量包含当前脚本(例如包含文件)的完整路径和文件名。<br>$_SERVER[‘SCRIPT_URI’]     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URI 用来指定要访问的页面。例如 “/index.html”。</p>
<p>下面是某网友整理的结果，可参考下。</p>
<p>服务器变量 $_SERVER 详解：</p>
<p>1、$_SESSION[‘PHP_SELF’] – 获取当前正在执行脚本的文件名</p>
<p>2、$_SERVER[‘SERVER_PROTOCOL’] – 请求页面时通信协议的名称和版本。例如，“HTTP/1.0”。</p>
<p>3、$_SERVER[‘REQUEST_TIME’] – 请求开始时的时间戳。从 PHP 5.1.0 起有效。和time函数效果一样。</p>
<p>4、$_SERVER[‘argv’] – 传递给该脚本的参数。我试了下，get方法可以得到$_SERVER[‘argv’][0]；post方法无法给他赋值。</p>
<p>5、$_SERVER[‘SERVER_NAME’] – 返回当前主机名。</p>
<p>6、$_SERVER[‘SERVER_SOFTWARE’] – 服务器标识的字串，在响应请求时的头信息中给出。 如Microsoft-IIS/6.0</p>
<p>7、$_SERVER[‘REQUEST_METHOD’] – 访问页面时的请求方法。例如：“GET”、“HEAD”，“POST”，“PUT”。</p>
<p>8、$_SERVER[‘QUERY_STRING’] – 查询（query）的字符串（URL 中第一个问号 ? 之后的内容）。</p>
<p>9、$_SERVER[‘DOCUMENT_ROOT’] – 当前运行脚本所在的文档根目录。在服务器配置文件中定义。 如E:\server</p>
<p>10、$_SERVER[‘HTTP_ACCEPT’] – 当前请求的 Accept: 头信息的内容。</p>
<p>11、$_SERVER[‘HTTP_ACCEPT_CHARSET’] – 当前请求的 Accept-Charset: 头信息的内容。例如：“iso-8859-1,*,utf-8”。</p>
<p>12、$_SERVER[‘HTTP_ACCEPT_ENCODING’] – 当前请求的 Accept-Encoding: 头信息的内容。例如：“gzip”。</p>
<p>13、$_SERVER[‘HTTP_ACCEPT_LANGUAGE’] – 当前请求的 Accept-Language: 头信息的内容。例如：“en”。</p>
<p>14、$_SERVER[‘HTTP_CONNECTION’] – 当前请求的 Connection: 头信息的内容。例如：“Keep-Alive”。</p>
<p>15、$_SERVER[‘HTTP_HOST’] – 当前请求的 Host: 头信息的内容。</p>
<p>16、$_SERVER[‘HTTP_REFERER’] – 链接到当前页面的前一页面的 URL 地址。</p>
<p>17、$_SERVER[‘HTTP_USER_AGENT’] – 返回用户使用的浏览器信息。也可以使用 get_browser() 得到此信息。</p>
<p>18、$_SERVER[‘HTTPS’] – 如果通过https访问，则被设为一个非空的值，否则返回off.</p>
<p>19、$_SERVER[‘REMOTE_ADDR’] – 正在浏览当前页面用户的 IP 地址。</p>
<p>20、$_SERVER[‘REMOTE_HOST’] – 正在浏览当前页面用户的主机名。反向域名解析基于该用户的 REMOTE_ADDR。如本地测试返回127.0.0.1</p>
<p>21、$_SERVER[‘REMOTE_PORT’] – 用户连接到服务器时所使用的端口。我在本机测试没通过，不知道什么原因。</p>
<p>22、$_SERVER[‘SCRIPT_FILENAME’] – 当前执行脚本的绝对路径名。如返回E:\server\index.php</p>
<p>23、$_SERVER[‘SERVER_ADMIN’] – 该值指明了 Apache 服务器配置文件中的 SERVER_ADMIN 参数。如果脚本运行在一个虚拟主机上，则该值是那个虚拟主机的值</p>
<p>24、$_SERVER[‘SERVER_PORT’] – 服务器所使用的端口。默认为“80”。如果使用 SSL 安全连接，则这个值为用户设置的 HTTP 端口。</p>
<p>25、$_SERVER[‘SERVER_SIGNATURE’] – 包含服务器版本和虚拟主机名的字符串。</p>
<p>26、$_SERVER[‘PATH_TRANSLATED’] – 当前脚本所在文件系统（不是文档根目录）的基本路径。这是在服务器进行虚拟到真实路径的映像后的结果。 Apache 2 用 户可以使用 httpd.conf 中的 AcceptPathInfo On 来定义 PATH_INFO。</p>
<p>27、$_SERVER[‘SCRIPT_NAME’] – 包含当前脚本的路径。这在页面需要指向自己时非常有用。<strong>FILE</strong> 包含当前文件的绝对路径和文件名（例如包含文件）。</p>
<p>28、$_SERVER[‘REQUEST_URI’] – 访问此页面所需的 URI。例如，“/index.html”。</p>
<p>29、$_SERVER[‘PHP_AUTH_DIGEST’] – 当作为 Apache 模块运行时，进行 HTTP Digest 认证的过程中，此变量被设置成客户端发送的“Authorization”HTTP 头内容（以便作进一步的认证操作）。</p>
<p>30、$_SERVER[‘PHP_AUTH_USER’]– 当 PHP 运行在 Apache 或 IIS（PHP 5 是 ISAPI）模块方式下，并且正在使用 HTTP 认证功能，这个变量便是用户输入的用户名。</p>
<p>31、$_SERVER[‘PHP_AUTH_PW’] – 当 PHP 运行在 Apache 或 IIS（PHP 5 是 ISAPI）模块方式下，并且正在使用 HTTP 认证功能，这个变量便是用户输入的密码。</p>
<p>32、$_SERVER[‘AUTH_TYPE’]–当 PHP 运行在 Apache 模块方式下，并且正在使用 HTTP 认证功能，这个变量便是认证的类型。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/06/24/fopen-01/" class="prev">PREV</a><a href="/2016/06/22/memcache-01/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 <a href="http://xwzmsdqbjzyyg.github.io">陈长生</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>